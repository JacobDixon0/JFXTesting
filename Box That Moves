package temp0;

import javafx.application.Application;
import javafx.event.EventHandler;
import javafx.scene.Scene;
import javafx.scene.canvas.Canvas;
import javafx.scene.control.Button;
import javafx.scene.input.KeyEvent;
import javafx.scene.layout.Pane;
import javafx.scene.layout.VBox;
import javafx.scene.paint.Color;
import javafx.scene.shape.Rectangle;
import javafx.stage.Stage;

public class Main extends Application{

	Stage window;
	Scene scene;
	double f = 10.0;
	
	public static void main(String[] args) {
		launch(args);
	}

	@Override
	public void start(Stage primaryStage) {
		
		window = primaryStage;
		
		Button btn = new Button();
		Pane root = new Pane();
		Canvas canvas = new Canvas(300, 250);
		Rectangle rect = makeRect(100, 100, 100, 100, Color.BLUE, true);
		Rectangle rect2 = makeRect(0, 0, 600, 400, Color.BLACK, false);
		
		btn.setText("Reset");
		btn.setTranslateX(10);
		btn.setTranslateY(10);
		btn.setOnAction(e -> {
			resetPos(rect);
		});
		
		scene = new Scene(root, 600, 400, Color.BLACK);
		
		root.getChildren().addAll(canvas, rect2, rect, btn);
		
		scene.setOnKeyPressed(new EventHandler<KeyEvent>() {
			
			@Override
			public void handle(KeyEvent event) {
				
				switch (event.getCode()) {
				
				case UP:
					System.out.println("up");
					rect.setY(rect.getY() - f);
					break;
				case DOWN:
					System.out.println("down");
					rect.setY(rect.getY() + f);
					break;	
				case LEFT:
					System.out.println("left");
					rect.setX(rect.getX() - f);
					break;
				case RIGHT:
					System.out.println("right");
					rect.setX(rect.getX() + f);
					break;
				default:
					System.out.println("input IE");
				
				}
				
				if(rect.getX() + 100 >= 600) {
					
					
					
				}
				
			}
			
		});
		
		window.setTitle("Title");
		window.setScene(scene);
		window.setResizable(false);
		window.sizeToScene();
		window.show();
		
	}
	
	private Rectangle makeRect(int posX, int posY, int sizeX, int sizeY, Color color, boolean hasStroke){
		Rectangle r1 = new Rectangle(posX, posY, sizeX, sizeY);
		r1.setFill(color);
		if(hasStroke) {
			r1.setStroke(Color.BLACK);
			r1.setStrokeWidth(2);
		}
		return r1;
	}
	
	public void resetPos(Rectangle rect) {
		rect.setX(100);
		rect.setY(100);
		System.out.println("reset");
	}
	
}
